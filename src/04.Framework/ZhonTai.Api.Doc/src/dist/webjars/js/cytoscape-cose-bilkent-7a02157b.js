import{o as j,g as k}from"./@babel-f22c9f32.js";import{r as Q}from"./cose-base-062de851.js";var x={exports:{}};(function(M,W){(function(y,d){M.exports=d(Q())})(j,function(O){return function(y){var d={};function o(i){if(d[i])return d[i].exports;var n=d[i]={i,l:!1,exports:{}};return y[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=y,o.c=d,o.i=function(i){return i},o.d=function(i,n,s){o.o(i,n)||Object.defineProperty(i,n,{configurable:!1,enumerable:!0,get:s})},o.n=function(i){var n=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(n,"a",n),n},o.o=function(i,n){return Object.prototype.hasOwnProperty.call(i,n)},o.p="",o(o.s=1)}([function(y,d){y.exports=O},function(y,d,o){var i=o(0).layoutBase.LayoutConstants,n=o(0).layoutBase.FDLayoutConstants,s=o(0).CoSEConstants,b=o(0).CoSELayout,G=o(0).CoSENode,H=o(0).layoutBase.PointD,B=o(0).layoutBase.DimensionD,V={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function Y(u,t){var l={};for(var r in u)l[r]=u[r];for(var r in t)l[r]=t[r];return l}function p(u){this.options=Y(V,u),w(this.options)}var w=function(t){t.nodeRepulsion!=null&&(s.DEFAULT_REPULSION_STRENGTH=n.DEFAULT_REPULSION_STRENGTH=t.nodeRepulsion),t.idealEdgeLength!=null&&(s.DEFAULT_EDGE_LENGTH=n.DEFAULT_EDGE_LENGTH=t.idealEdgeLength),t.edgeElasticity!=null&&(s.DEFAULT_SPRING_STRENGTH=n.DEFAULT_SPRING_STRENGTH=t.edgeElasticity),t.nestingFactor!=null&&(s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=n.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=t.nestingFactor),t.gravity!=null&&(s.DEFAULT_GRAVITY_STRENGTH=n.DEFAULT_GRAVITY_STRENGTH=t.gravity),t.numIter!=null&&(s.MAX_ITERATIONS=n.MAX_ITERATIONS=t.numIter),t.gravityRange!=null&&(s.DEFAULT_GRAVITY_RANGE_FACTOR=n.DEFAULT_GRAVITY_RANGE_FACTOR=t.gravityRange),t.gravityCompound!=null&&(s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=n.DEFAULT_COMPOUND_GRAVITY_STRENGTH=t.gravityCompound),t.gravityRangeCompound!=null&&(s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=n.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=t.gravityRangeCompound),t.initialEnergyOnIncremental!=null&&(s.DEFAULT_COOLING_FACTOR_INCREMENTAL=n.DEFAULT_COOLING_FACTOR_INCREMENTAL=t.initialEnergyOnIncremental),t.quality=="draft"?i.QUALITY=0:t.quality=="proof"?i.QUALITY=2:i.QUALITY=1,s.NODE_DIMENSIONS_INCLUDE_LABELS=n.NODE_DIMENSIONS_INCLUDE_LABELS=i.NODE_DIMENSIONS_INCLUDE_LABELS=t.nodeDimensionsIncludeLabels,s.DEFAULT_INCREMENTAL=n.DEFAULT_INCREMENTAL=i.DEFAULT_INCREMENTAL=!t.randomize,s.ANIMATE=n.ANIMATE=i.ANIMATE=t.animate,s.TILE=t.tile,s.TILING_PADDING_VERTICAL=typeof t.tilingPaddingVertical=="function"?t.tilingPaddingVertical.call():t.tilingPaddingVertical,s.TILING_PADDING_HORIZONTAL=typeof t.tilingPaddingHorizontal=="function"?t.tilingPaddingHorizontal.call():t.tilingPaddingHorizontal};p.prototype.run=function(){var u,t,l=this.options;this.idToLNode={};var r=this.layout=new b,a=this;a.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var e=r.newGraphManager();this.gm=e;var g=this.options.eles.nodes(),f=this.options.eles.edges();this.root=e.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(g),r);for(var E=0;E<f.length;E++){var A=f[E],v=this.idToLNode[A.data("source")],D=this.idToLNode[A.data("target")];if(v!==D&&v.getEdgesBetween(D).length==0){var _=e.add(r.newEdge(),v,D);_.id=A.id()}}var P=function(L,F){typeof L=="number"&&(L=F);var I=L.data("id"),R=a.idToLNode[I];return{x:R.getRect().getCenterX(),y:R.getRect().getCenterY()}},h=function U(){for(var L=function(){l.fit&&l.cy.fit(l.eles,l.padding),u||(u=!0,a.cy.one("layoutready",l.ready),a.cy.trigger({type:"layoutready",layout:a}))},F=a.options.refresh,I,R=0;R<F&&!I;R++)I=a.stopped||a.layout.tick();if(I){r.checkLayoutSuccess()&&!r.isSubLayout&&r.doPostLayout(),r.tilingPostLayout&&r.tilingPostLayout(),r.isLayoutFinished=!0,a.options.eles.nodes().positions(P),L(),a.cy.one("layoutstop",a.options.stop),a.cy.trigger({type:"layoutstop",layout:a}),t&&cancelAnimationFrame(t),u=!1;return}var m=a.layout.getPositionsData();l.eles.nodes().positions(function(c,z){if(typeof c=="number"&&(c=z),!c.isParent()){for(var S=c.id(),T=m[S],N=c;T==null&&(T=m[N.data("parent")]||m["DummyCompound_"+N.data("parent")],m[S]=T,N=N.parent()[0],N!=null););return T!=null?{x:T.x,y:T.y}:{x:c.position("x"),y:c.position("y")}}}),L(),t=requestAnimationFrame(U)};return r.addListener("layoutstarted",function(){a.options.animate==="during"&&(t=requestAnimationFrame(h))}),r.runLayout(),this.options.animate!=="during"&&(a.options.eles.nodes().not(":parent").layoutPositions(a,a.options,P),u=!1),this},p.prototype.getTopMostNodes=function(u){for(var t={},l=0;l<u.length;l++)t[u[l].id()]=!0;var r=u.filter(function(a,e){typeof a=="number"&&(a=e);for(var g=a.parent()[0];g!=null;){if(t[g.id()])return!1;g=g.parent()[0]}return!0});return r},p.prototype.processChildrenList=function(u,t,l){for(var r=t.length,a=0;a<r;a++){var e=t[a],g=e.children(),f,E=e.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(e.outerWidth()!=null&&e.outerHeight()!=null?f=u.add(new G(l.graphManager,new H(e.position("x")-E.w/2,e.position("y")-E.h/2),new B(parseFloat(E.w),parseFloat(E.h)))):f=u.add(new G(this.graphManager)),f.id=e.data("id"),f.paddingLeft=parseInt(e.css("padding")),f.paddingTop=parseInt(e.css("padding")),f.paddingRight=parseInt(e.css("padding")),f.paddingBottom=parseInt(e.css("padding")),this.options.nodeDimensionsIncludeLabels&&e.isParent()){var A=e.boundingBox({includeLabels:!0,includeNodes:!1}).w,v=e.boundingBox({includeLabels:!0,includeNodes:!1}).h,D=e.css("text-halign");f.labelWidth=A,f.labelHeight=v,f.labelPos=D}if(this.idToLNode[e.data("id")]=f,isNaN(f.rect.x)&&(f.rect.x=0),isNaN(f.rect.y)&&(f.rect.y=0),g!=null&&g.length>0){var _;_=l.getGraphManager().add(l.newGraph(),f),this.processChildrenList(_,g,l)}}},p.prototype.stop=function(){return this.stopped=!0,this};var C=function(t){t("layout","cose-bilkent",p)};typeof cytoscape<"u"&&C(cytoscape),y.exports=C}])})})(x);var X=x.exports;const J=k(X);export{J as c};
